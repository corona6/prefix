<title>prefix</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">

<main>
    <div class="px-4 py-5 my-5 text-center">
        <div class="col-md-10 mx-auto col-lg-5">
            <form class="p-4 p-md-5 border rounded-3 bg-body-tertiary">
                <div class="form-floating mb-3">
                    <input type="text" id="ss" class="form-control">
                    <label for="floatingInput">prefix</label>
                </div>
                <div class="d-grid gap-2 mb-3">
                    <button class="w-100 btn btn-lg btn-outline-secondary" type="button"
                        onclick="pasteText()">paste</button>
                </div>
                <div class="input-group mb-3">
                    <textarea id="message" class="form-control"></textarea>
                </div>
                <div class="d-grid gap-2">
                    <button class="w-100 btn btn-lg btn-primary" type="button" onclick="buttonClick()">append</button>
                </div>
                <div class="d-flex gap-2 justify-content-center py-3">
                    <button class="btn btn-lg btn-success col-md-10" type="button" onclick="copyText()">copy</button>
                    <button class="btn btn-lg btn-outline-secondary col-md-2" type="button"
                        onclick="clearText()">clear</button>
                </div>
                <hr class="my-4">
                <small class="text-body-secondary">Add prefix to each line.</small>
            </form>
        </div>
    </div>
</main>

<script>
    function buttonClick() {
        const message = document.getElementById('message').value;
        const ss = document.getElementById('ss').value;
        const messages = message.split(/\n/);
        const map1 = messages.map(x => ss + x);
        document.getElementById('message').value = map1.join('\n');
    }
    function clearText() {
        document.getElementById('message').value = "";
        document.getElementById('ss').value = "";
    }
    function copyText() {
        var copyText = document.getElementById("message");
        copyText.focus();
        copyText.setSelectionRange(0, copyText.value.length);
        navigator.clipboard.writeText(copyText.value);
    }
    function pasteText() {
        navigator.clipboard.readText()
            .then(
                clipText => document.getElementById('message').value = clipText
            );
    }
</script>